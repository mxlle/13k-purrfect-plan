$squareCount: var(--s-cnt, 5);
$bufferVertical: 1rem; // = 1 * margin
$bufferVerticalPortrait: 2rem; // = 1 * margin + 1 * gap
$bufferLandscape: 3rem; // = 2 * margin
$headerHeight: 2.5rem;
$controls-width: 17rem;
$controls-height: 13.5rem;
$gap: 1px;
$totalGap: calc($gap * ($squareCount - 1));
// $maxWidth: 40rem + $buffer + $totalGap;
$totalSizeLandscape: calc(min(calc(100vw - $controls-width - $bufferLandscape), calc(100vh - $headerHeight)) - $bufferVertical - $totalGap);
$totalSizePortrait: calc(min(100vw, calc(100vh - $controls-height - $headerHeight)) - $bufferVerticalPortrait - $totalGap);
$squareSizeLandscape: calc(#{$totalSizeLandscape} / calc(#{$squareCount} + 0.2));
$squareSizePortrait: calc(#{$totalSizePortrait} / calc(#{$squareCount} + 0.2));
$font-size: calc(0.6 * var(--s-size));

@mixin board-tile-grid {
  display: grid;
  grid-template-columns: repeat($squareCount, var(--s-size));
  grid-template-rows: repeat($squareCount, var(--s-size));
  gap: 1px;
  font-size: $font-size;
  line-height: 1;
}

@mixin board-tile-grid-variables {
  --s-size: #{$squareSizeLandscape};

  @media (orientation: portrait) {
    --s-size: #{$squareSizePortrait};
  }
}
