@use "../../grid-mixins";

@import "../../theme";
@import "../../names";

$border-style: outset;

.#{$FIELD} {
  --t: #{$tile-color-1};
  position: relative;
  margin: 0 auto;
  justify-content: center;
  height: fit-content;
  border: calc(var(--s-size) / 4) solid $tile-color-alpha;

  @include grid-mixins.board-tile-grid;
  @include grid-mixins.board-tile-grid-variables;

  .row {
    display: contents;

    &:nth-child(even) {
      .#{$CELL} {
        &:nth-child(odd) {
          --t: #{$tile-color-2};
        }
      }
    }

    &:nth-child(odd) {
      .#{$CELL}:not(:nth-child(odd)) {
        --t: #{$tile-color-2};
      }
    }
  }

  .#{$START_BUTTON} {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    z-index: 6;
  }
}

.#{$CELL} {
  background-color: var(--t);
  display: grid;
  place-items: center;
  position: relative;
  overflow: hidden;
  // width: 100%;
  // height: 100%;

  .#{$CAT} {
    position: relative;
    display: grid;
    place-items: center;
    width: 100%;
    height: 100%;
  }

  .#{$IS_MOM} {
    $shadowSize: 0.1rem;
    $shadowBlur: 0.1rem;
    text-shadow:
      $shadowSize -1 * $shadowSize $shadowBlur rgba($main-color, 0.5),
      -1 * $shadowSize $shadowSize $shadowBlur rgba($main-color, 0.5),
      $shadowSize $shadowSize $shadowBlur rgba($main-color, 0.5),
      -1 * $shadowSize -1 * $shadowSize $shadowBlur rgba($main-color, 0.5);
  }

  .#{$CAT_SIZE} {
    &1 {
      font-size: 0.7em;
      z-index: 3;
      transform: scale(1.3) translate(var(--t-x, 0), 15%);
    }

    &2 {
      font-size: 0.9em;
      z-index: 2;
      transform: scale(1.6);
    }

    &3 {
      font-size: 1.2em;
      transform: scale(2);
    }
  }

  .#{$CAT_COLOR} {
    &1 {
      filter: hue-rotate(90deg);
    }

    &2 {
      filter: hue-rotate(180deg);
      --t-x: -10%;
    }

    &3 {
      filter: hue-rotate(270deg);
      --t-x: 10%;
    }
  }

  > .#{$CAT} {
    grid-area: 1 / 1;
  }

  span,
  .#{$CAT} {
    pointer-events: none;
  }
}

.#{$WON} {
  .#{$CELL} {
    pointer-events: none;
  }

  .#{$START_BUTTON} {
    font-size: 0.8rem;
  }
}
