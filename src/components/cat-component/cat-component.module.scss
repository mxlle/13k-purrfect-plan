@use "../../theme" as *;
@use "../../names" as *;
@use "sass:color";

:global(.#{$CAT_BOX}) {
  position: relative;
  width: 100%;
  height: 100%;
  color: color.mix(#ff2ea6, white, 30%);
  transition: color 0.2s;

  &:nth-child(2) {
    z-index: 4;
  }

  &:nth-child(3) {
    --t-x: -35%;
  }

  &:nth-child(4) {
    --t-x: 35%;
  }
}

.cat {
  position: relative;
  display: grid;
  place-items: center;
  width: 100%;
  height: 100%;

  filter: drop-shadow(3px -2px 1px color-mix(in srgb, currentColor 20%, transparent));

  svg {
    color: currentColor;
  }
}

.isMom {
  color: #ff2ea6;
}

.moony {
  color: #c09402;
}

.ivy {
  color: #009e28;
}

.splashy {
  color: #106dff;
}

:global(.#{$CELL}) {
  .cat {
    &:not(.isMom) {
      transform: scale(0.7) translate(var(--t-x, 0), 22%);
    }

    svg {
      ellipse {
        transform-box: fill-box;
        transform-origin: center;
        animation: eye-blink 8s 4s infinite;

        :global(.#{$WON}) & {
          animation: none;
        }
      }
    }
  }

  .isMom {
    transform: scale(0.95);
  }
}

@keyframes eye-blink {
  0% {
    transform: scaleY(1);
  }
  3% {
    transform: scaleY(0);
  }
  6% {
    transform: scaleY(1);
  }
  9% {
    transform: scaleY(0);
  }
  12% {
    transform: scaleY(1);
  }
}
